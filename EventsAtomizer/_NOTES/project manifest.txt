**OBJECTIF DU PROJET**
Application de gestion de services audio/vidÃ©o qui servira de backend pour d'autres applications.

**STRUCTURE PRINCIPALE**
- Focus sur les Services plutÃ´t que les Events
- UI Ã  3 colonnes pour la vue Services :
  1. Filtres (gauche)
  2. Liste de services avec quick actions (milieu)
  3. Vue dÃ©taillÃ©e avec systÃ¨me de visualisation des changements par champs... (Ã  imaginer) et historique gÃ©nÃ©ral du service changelog (droite)

**ARCHITECTURE DES DONNÃ‰ES**
```
ğŸ“ Models/
â”œâ”€â”€ ğŸ“ Core/
â”‚   â”œâ”€â”€ Event.swift
â”‚   â””â”€â”€ Option.swift
â”œâ”€â”€ ğŸ“ Services/
â”‚   â”œâ”€â”€ ServiceType.swift           // Enum des types de services
â”‚   â”œâ”€â”€ Service.swift              // Protocol/classe de base pour tous les services
â”‚   â”œâ”€â”€ AudioVideoRecording.swift   // Service complet avec donnÃ©es XML+locales
â”‚   â””â”€â”€ OnlinePlatform.swift        // Service complet avec donnÃ©es XML+locales
â””â”€â”€ ğŸ“ DataManagement/
    â”œâ”€â”€ XMLParser.swift            // Gestion du parsing XML
    â””â”€â”€ ModelContainer.swift        // Configuration SwiftData
```

**FONCTIONNALITÃ‰S CLÃ‰S**
1. Import XML
   - Parse complet des donnÃ©es
   - Pas de stockage des donnÃ©es brutes XML
   - Focus initial sur AudioVideoRecording

2. Gestion des changements
   - Suivi avec @Tracking wrapper de propritÃ©tÃ©
   - Purge automatique et manuelle des Ã©vÃ©nements trop vieux (15 jours)
   - Visualisation granulaire des changements

3. Quick Actions
   - Modification rapide du webLink et status dans la liste
   - Minimum de clics pour les actions courantes

4. UI OptimisÃ©e
   - Liste filtrable efficace
   - Indicateurs visuels de changements
   - Actions rapides accessibles

**PRÃ‰PARATION FUTURE**
1. API REST
   - Endpoints pour recherche de services
   - Mise Ã  jour des statuts
   - Format JSON standardisÃ©

2. InteropÃ©rabilitÃ©
   - Connexion avec l'app audio future
   - Mode "LINK" dans l'app audio
   - Communication via API REST

**PRIORITÃ‰S D'IMPLÃ‰MENTATION**
1. Structure de donnÃ©es de base (ServiceType.swift)
2. ModÃ¨le AudioVideoRecording
3. SystÃ¨me de @tracking pour les champs et historique par champs
4. SystÃ¨me de changelog par service
4. Parser XML optimisÃ©
5. Interface utilisateur
6. API REST (phase ultÃ©rieure)

**TECHNOLOGIES**
- SwiftUI pour l'interface
- SwiftData pour la persistence
- DonnÃ©es en mÃ©moire pour le dÃ©veloppement
- Vapor prÃ©vu pour l'API REST future

Cette structure permet :
- Une gestion efficace des services
- Une visualisation claire des changements
- Une base solide pour l'API future
- Une maintenance facilitÃ©e
- Une Ã©volution simple vers d'autres types de services



ğŸ“ Models/
â””â”€â”€ ğŸ“ Service/
    â”œâ”€â”€ ServiceType.swift                 // Enum des types de services
    â”œâ”€â”€ ğŸ“ XMLData/
    â”‚   â”œâ”€â”€ ServiceXMLParser.swift        // Parser XML
    â”‚   â””â”€â”€ AudioVideoXMLData.swift       // Structure donnÃ©es parsÃ©es
    â”œâ”€â”€ ğŸ“ LocalData/
    â”‚   â”œâ”€â”€ AudioVideoLocalData.swift     // DonnÃ©es locales (webLink, status...)
    â””â”€â”€ Service.swift                     // ModÃ¨le principal
    
    
ğŸ“ Views/
â”œâ”€â”€ ğŸ“ MainViews/
â”‚   â”œâ”€â”€ MainThreeColumnView.swift         // Vue principale conteneur
â”‚   â”œâ”€â”€ ServicesSidebarView.swift         // Colonne filtres (gauche)
â”‚   â”œâ”€â”€ ServicesListView.swift            // Liste services (milieu)
â”‚   â””â”€â”€ ServiceDetailView.swift           // DÃ©tails (droite)
â”‚
â”œâ”€â”€ ğŸ“ Components/
â”‚   â”œâ”€â”€ ServiceRowView.swift              // Ligne dans la liste
â”‚   â”œâ”€â”€ QuickActionView.swift             // Actions rapides (webLink, status)
â”‚   â””â”€â”€ SeviceChangelogView.swift         // Historique versions
â”‚
â””â”€â”€ ğŸ“ Shared/
    â”œâ”€â”€ FilterView.swift                  // Composants de filtrage
    â””â”€â”€ Badges.swift                      // Badges statut/changements


Service
â”œâ”€â”€ DonnÃ©es XML parsÃ©es (AudioVideoXMLData)
â”‚   â”œâ”€â”€ PropriÃ©tÃ©s (languages, isAudioOnly...)
â”‚
â””â”€â”€ DonnÃ©es Locales (AudioVideoLocalData)
    â”œâ”€â”€ webLink
    â”œâ”€â”€ processingStatus
    â””â”€â”€ notes


ğŸ“ API/
â”œâ”€â”€ ğŸ“ Endpoints/
â”‚   â”œâ”€â”€ ServiceController.swift
â”‚   â””â”€â”€ Routes.swift
â”œâ”€â”€ ğŸ“ Models/
â”‚   â””â”€â”€ APIModels.swift                   // Versions API des modÃ¨les
â””â”€â”€ ğŸ“ Services/
    â””â”€â”€ ServiceRepository.swift           // Couche d'accÃ¨s aux donnÃ©es



Notes de dÃ©tail :
Tracking de l'historique des champs :

@propertyWrapper
struct Tracked<Value> {
    private var value: Value
    private(set) var history: [Value] = []

    var wrappedValue: Value {
        get { value }
        set {
            history.append(value)
            value = newValue
        }
    }

    var projectedValue: [Value] {
        return history
    }

    init(wrappedValue: Value) {
        self.value = wrappedValue
    }
}

struct ContentView: View {
    @Tracked var score = 0
    
    var body: some View {
        VStack {
            Text("Score: \(score)")
            Button("Increase") {
                score += 1
            }
            Button("Show History") {
                print($score) // Prints the history of score changes
            }
        }
    }
}



'
